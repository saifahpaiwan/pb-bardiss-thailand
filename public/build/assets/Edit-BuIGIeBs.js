import{Q as C,l as B,T as E,o as c,f as u,a,u as e,w as f,F as $,Z as F,b as s,t as v,e as N,g as P,i as V,B as y,j as R,d as h,n as j,y as z,z as A}from"./app-BFrOocPW.js";import{_ as M}from"./AuthenticatedLayout-CXldjYJR.js";import{_ as L,s as x,S as O}from"./PageTitleBox-DiIlv3My.js";import{_ as T}from"./PrimaryButton-CPssFN5H.js";import{_ as i,b as n,a as p}from"./TextInput-CsIhq7aG.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const r=_=>(z("data-v-47d5b629"),_=_(),A(),_),Z={class:"row"},G={class:"col-lg-12"},H={class:"card"},J={class:"card-body"},K={class:"row mb-1"},W={class:"col-md-6 responsive-mobile-title"},X=r(()=>s("h4",{class:"header-title"}," แก้ไขข้อมูลผู้ใช้งาน (Users) ",-1)),Y={class:"sub-header"},ss={class:"row"},es={class:"col-md-4"},os={class:"form-group"},as={key:0,class:"flex align-items-center"},ls={key:1},ts={class:"col-md-4"},ds={class:"form-group"},is={class:"col-md-2"},ns={class:"form-group"},rs={class:"col-md-2"},ms={class:"form-group"},cs={class:"col-md-4"},us={class:"form-group"},ps={class:"col-md-4"},_s={class:"form-group"},fs={class:"col-md-4"},vs={class:"form-group"},gs={class:"col-md-4"},hs={class:"form-group"},ws={class:"mt-2 img-file-upload-1"},bs={class:"box-image-no"},Vs=["src"],ys=r(()=>s("div",{class:"mt-1 mb-1"}," Size image 690 × 690 px 2MB. ",-1)),xs={class:"col-md-4"},Ss={class:"form-group"},Us=r(()=>s("label",{for:"status-1"},[h(" สถานะการแสดงผล "),s("span",{class:"text-danger"},"*")],-1)),ks={class:"mt-2"},Ds={class:"radio radio-success form-check-inline"},Is=r(()=>s("label",{for:"status-1"},[s("span",{class:"badge badge-success p-1"}," Enable ")],-1)),qs={class:"radio radio-secondary form-check-inline"},Cs=r(()=>s("label",{for:"status-0"},[s("span",{class:"badge badge-secondary p-1"}," Disable ")],-1)),Bs={class:"col-md-4"},Es={class:"form-group"},$s={key:0,class:"flex align-items-center"},Fs={key:1},Ns={class:"col-md-12 text-right"},Ps=r(()=>s("hr",null,null,-1)),Rs=r(()=>s("i",{class:"fe-chevron-left"},null,-1)),js=r(()=>s("i",{class:"fe-save"},null,-1)),zs={__name:"Edit",props:{plants:{type:Array},roles:{type:Array},user:{type:Object,default:()=>({})},roleID:{type:Number}},setup(_){const S=C(),U=B([{message:"รายการข้อมูลผู้ใช้งาน"},{message:"แก้ไขข้อมูลผู้ใช้งาน"}]),g=_,w=g.plants,b=g.roles,d=g.user,k=new Date().toDateString(),o=E({code:d.empolyee_code,password:"",plant_id:w.find(m=>m.id===d.plant_id),email:d.email,phone:d.phone,username:d.username,password:"",confirmPassword:"",status:d.status,roles:b.find(m=>m.id===g.roleID),filename:d.images_name!=null?"/storage/images/users/"+d.images_name:null}),D=m=>{const t=m.target.files[0];if(t){const l=new FileReader;l.onload=q=>{o.filename=q.target.result},l.readAsDataURL(t)}else o.filename=null},I=()=>{o.put(route("users.update",d.id),{onFinish:()=>{O.fire({title:"Successfully.",text:S.props.flash.success,icon:"success",showConfirmButton:!1,timer:1500})}})};return(m,t)=>(c(),u($,null,[a(e(F),{title:"Users Edit"}),a(M,null,{default:f(()=>[a(L,{titlemain:"แดชบอร์ด",subtitles:U.value},null,8,["subtitles"]),s("div",Z,[s("div",G,[s("div",H,[s("div",J,[s("div",K,[s("div",W,[X,s("p",Y," ข้อมูลประจำวันที่ : "+v(e(k)),1)])]),s("form",{onSubmit:N(I,["prevent"]),enctype:"multipart/form-data"},[s("div",ss,[s("div",es,[s("div",os,[a(i,{for:"plant_id",value:"Plants"}),a(e(x),{modelValue:e(o).plant_id,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).plant_id=l),options:e(w),filter:"",optionValue:"plant_id",placeholder:"Select a Plants",class:"w-100"},{value:f(l=>[l.value?(c(),u("div",as,[s("div",null,v(l.value.plant),1)])):(c(),u("span",ls,v(l.placeholder),1))]),_:1},8,["modelValue","options"]),a(n,{class:"mt-2",message:e(o).errors.plant_id},null,8,["message"])])]),s("div",ts,[s("div",ds,[a(i,{for:"code",value:"รหัสพนักงาน : ",required:""}),a(p,{id:"code",type:"text",modelValue:e(o).code,"onUpdate:modelValue":t[1]||(t[1]=l=>e(o).code=l),required:""},null,8,["modelValue"]),a(n,{class:"mt-2",message:e(o).errors.code},null,8,["message"])])]),s("div",is,[s("div",ns,[a(i,{for:"email",value:"อีเมล (Email) : ",required:""}),a(p,{id:"email",type:"email",modelValue:e(o).email,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).email=l),required:""},null,8,["modelValue"]),a(n,{class:"mt-2",message:e(o).errors.email},null,8,["message"])])]),s("div",rs,[s("div",ms,[a(i,{for:"phone",value:"เบอร์โทร (Phone) : "}),a(p,{id:"phone",type:"text",modelValue:e(o).phone,"onUpdate:modelValue":t[3]||(t[3]=l=>e(o).phone=l)},null,8,["modelValue"]),a(n,{class:"mt-2",message:e(o).errors.phone},null,8,["message"])])]),s("div",cs,[s("div",us,[a(i,{for:"username",value:"Username : ",required:""}),a(p,{id:"username",type:"text",modelValue:e(o).username,"onUpdate:modelValue":t[4]||(t[4]=l=>e(o).username=l),required:""},null,8,["modelValue"]),a(n,{class:"mt-2",message:e(o).errors.username},null,8,["message"])])]),s("div",ps,[s("div",_s,[a(i,{for:"password",value:"รหัสผ่าน (Password) : "}),a(p,{id:"password",type:"password",modelValue:e(o).password,"onUpdate:modelValue":t[5]||(t[5]=l=>e(o).password=l)},null,8,["modelValue"]),a(n,{class:"mt-2",message:e(o).errors.password},null,8,["message"])])]),s("div",fs,[s("div",vs,[a(i,{for:"confirm-password",value:"ยืนยันรหัสผ่าน (Confirm confirm-password) : "}),a(p,{id:"confirm-password",type:"password",modelValue:e(o).confirmPassword,"onUpdate:modelValue":t[6]||(t[6]=l=>e(o).confirmPassword=l)},null,8,["modelValue"]),a(n,{class:"mt-2",message:e(o).errors.confirmPassword},null,8,["message"])])]),s("div",gs,[s("div",hs,[a(i,{for:"images_name",value:"รูปพนักงานขาย : "}),s("div",ws,[s("div",bs,[e(o).filename?(c(),u("img",{key:0,src:e(o).filename,alt:"Selected Image"},null,8,Vs)):P("",!0)])]),ys,s("input",{type:"file",id:"images_name",onChange:D},null,32)]),a(n,{class:"mt-2",message:e(o).errors.filename},null,8,["message"])]),s("div",xs,[s("div",Ss,[Us,s("div",ks,[s("div",Ds,[V(s("input",{type:"radio",id:"status-1",value:"1","onUpdate:modelValue":t[7]||(t[7]=l=>e(o).status=l)},null,512),[[y,e(o).status]]),Is]),s("div",qs,[V(s("input",{type:"radio",id:"status-0",value:"0","onUpdate:modelValue":t[8]||(t[8]=l=>e(o).status=l)},null,512),[[y,e(o).status]]),Cs])])])]),s("div",Bs,[s("div",Es,[a(i,{for:"roles",value:"สิทธิ์ผู้ใช้งาน : ",required:""}),a(e(x),{modelValue:e(o).roles,"onUpdate:modelValue":t[9]||(t[9]=l=>e(o).roles=l),options:e(b),filter:"",optionLabel:"name",placeholder:"Select a Roles",class:"w-100"},{value:f(l=>[l.value?(c(),u("div",$s,[s("div",null,v(l.value.name),1)])):(c(),u("span",Fs,v(l.placeholder),1))]),_:1},8,["modelValue","options"]),a(n,{class:"mt-2",message:e(o).errors.roles},null,8,["message"])])]),s("div",Ns,[Ps,a(e(R),{href:m.route("users.index"),class:"btn btn-dark waves-effect waves-light"},{default:f(()=>[Rs,h(" ย้อนกลับ ")]),_:1},8,["href"]),a(T,{class:j({"opacity-25":e(o).processing}),disabled:e(o).processing},{default:f(()=>[js,h(" บันทึก ")]),_:1},8,["class","disabled"])])])],32)])])])])]),_:1})],64))}},Gs=Q(zs,[["__scopeId","data-v-47d5b629"]]);export{Gs as default};
